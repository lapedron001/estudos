window.hotLGPD||(window.hotLGPD={}),window.hotLGPD={availableLocales:function(){return Object.keys(this.contentMessages)},config:window.hotLGPD.config||{manualInitializing:!1,cookieDomain:-1!==window.location.origin.indexOf("buildstaging")?".buildstaging.com":".hotmart.com",originDomainsRegex:/^https?:\/\/([-a-zA-Z0-9._]*\.)?(buildstaging\.com|hotmart\.com(:[0-9]{4})?)(\/)?/,langCookieName:"hmLangCookie"},policyOrigin:"platform",policyType:"privacy",policy:{platform:{privacy:{date:"2020-10-09T00:00:00.000Z",version:"v2"}},sparkle:{privacy:{date:"2020-10-09T00:00:00.000Z",version:"v2"}}},userIp:"",contentMessages:window.hotLGPD.contentMessages||{pt:{message:'Atualizamos nossa Política de Privacidade, <a href="https://www.hotmart.com/pt/pp/" rel="noopener noreferrer nofollow" target="_blank" class="hot-lgpd-box__link">clique aqui</a> e acesse.',link:"Fechar"},en:{message:'We\'ve updated our Privacy Policy, <a href="https://www.hotmart.com/en/pp/" rel="noopener noreferrer nofollow" target="_blank" class="hot-lgpd-box__link">click here</a> to read it.',link:"Close"},es:{message:'Actualizamos nuestra Política de Privacidad, haz <a href="https://www.hotmart.com/es/pp/" rel="noopener noreferrer nofollow" target="_blank" class="hot-lgpd-box__link">clic aquí</a> para acceder.',link:"Cerrar"},fr:{message:'Nous avons mis à jour notre Politique de Confidentialité, <a href="https://www.hotmart.com/fr/pp/" rel="noopener noreferrer nofollow" target="_blank" class="hot-lgpd-box__link">cliquez ici</a> pour y accéder.',link:"Fermer"}},cookieManager:{get(e){const t=document.cookie,o=e;if(t.length>0){let e=t.indexOf(o+"=");if(-1!==e){e=e+o.length+1;let n=t.indexOf(";",e);return-1===n&&(n=t.length),t.substring(e,n)}}return null},create(e,t,o){let n="";if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),n="; expires="+e.toUTCString()}document.cookie=e+"="+t+"; domain="+window.hotLGPD.config.cookieDomain+n+"; path=/"},delete(e,t){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain="+(t||window.hotLGPD.config.cookieDomain)}},createBox:function(){const e=this.getLocale(),t=document.createElement("div");t.classList.add("hot-lgpd-box");const o=document.createElement("div");o.classList.add("hot-lgpd-box__text"),o.innerHTML=this.contentMessages[e].message;const n=document.createElement("button");return n.classList.add("hot-lgpd-box__button"),n.addEventListener("click",function(){window.hotLGPD.cookieManager.create("hotLGPDread",(new Date).toISOString()),window.hotLGPD.toggleVisibility(),window.hotLGPD.sendEvent()}),n.innerText=this.contentMessages[e].link,t.appendChild(o),t.appendChild(n),t},createStyles:function(){const e=document.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href","//static.hotmart.com/hot-lgpd/lgpdstyles.min.css"),e.setAttribute("type","text/css"),e},getLocale:function(){let e=this.cookieManager.get(window.hotLGPD.config.langCookieName)||window.navigator.language.substr(0,2);return-1===this.availableLocales().indexOf(e)&&(e="pt"),e},initialize:function(){const e=new Date(window.hotLGPD.policy[window.hotLGPD.policyOrigin][window.hotLGPD.policyType].date);if(!this.isSafeOrigin()||new Date(this.cookieManager.get("hotLGPDread"))>e)return;const t=new XMLHttpRequest;t.open("GET","https://api-ip.hotmart.com/api/ip/info"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){const e=JSON.parse(t.response);"BR"===e.country&&(window.hotLGPD.showMessage(),window.hotLGPD.userIp=e.ip)}else console.error("Something went wrong")},t.send()},isSafeOrigin:function(){return!window.hotLGPD.config.originDomainsRegex||window.hotLGPD.config.originDomainsRegex.test(window.location.origin)},showMessage:function(){document.head.appendChild(this.createStyles()),document.body.appendChild(this.createBox()),window.setTimeout(function(){document.querySelector(".hot-lgpd-box__link").addEventListener("click",function(){window.hotLGPD.cookieManager.create("hotLGPDread",(new Date).toISOString()),window.hotLGPD.toggleVisibility(),window.hotLGPD.sendEvent()},250)}),this.toggleVisibility()},toggleVisibility:function(){const e=document.querySelector(".hot-lgpd-box");e&&(e.classList.contains("hot-lgpd-box__visible")?(document.body.style.paddingBottom="",e.classList.remove("fadeInOut"),setTimeout(function(){e.classList.remove("hot-lgpd-box__visible"),e.parentElement.removeChild(e)},250)):(document.body.style.paddingBottom="60px",e.classList.add("hot-lgpd-box__visible"),setTimeout(function(){e.classList.add("fadeInOut")},250)))},sendEvent:function(){const e=window.Hotmart&&window.Hotmart.User&&parseInt(window.Hotmart.User.id)||null,t={system:"hotmart_lgpd",entity:"lgpd",event_version:"1.1",data_version:"1.0",action:"read",event:{url:window.location.host,idHotmart:e,ip:window.hotLGPD.userIp,date:(new Date).toISOString(),policyDate:window.hotLGPD.policy[window.hotLGPD.policyOrigin][window.hotLGPD.policyType].date,policyType:window.hotLGPD.policyType,policyVersion:window.hotLGPD.policy[window.hotLGPD.policyOrigin][window.hotLGPD.policyType].version}},o=new XMLHttpRequest;o.open("POST","https://tracking-api.hotmart.com/rest/track/event/json"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(200!==o.status)return console.error("Error sending DataHub event",t)},o.send(JSON.stringify(t))}};